# Vim操作の事始め

## 目次
- [ノーマルモード](#ノーマルモード)
- [入力モード](#入力モード)
- [コマンドモード](#コマンドモード)
- [ビジュアルモード](#ビジュアルモード)

## ノーマルモード
### ノーマルモードに戻る
- ノーマルモードに戻る: `Esc`

### 移動
#### 一文字移動
- カーソル上(↑キーと同じ): `k`
- カーソル下(↓キーと同じ): `j`
- カーソル右(→キーと同じ): `l`
- カーソル左(←キーと同じ): `h`
- 昇竜拳: `jlグーパン`

#### 単語(スペース)区切りの移動
- 次の単語の先頭に移動: `w`
- 次の単語の末尾に移動: `e`
- 前の単語の先頭に移動: `b`
- 2つ次の単語の先頭に移動: `2w`
- 2つ次の単語の末尾に移動: `2e`
- 2つ前の単語の先頭に移動: `2b`

#### 行内移動
- 行頭に移動: `^` or `0`
- 行末に移動: `$`
- 行内の指定文字(ex.次のa)に移動: `fa`

#### 行外移動
- 一番上の行に移動する: `gg`
- 最終行に移動する: `G`

#### 画面移動
- 1画面上に移動(Pg Upキーと同じ): `Ctrl + f`
- 1画面下に移動(Pg Dnキーと同じ): `Ctrl + b`

#### その他移動
- ファイル先頭に移動: `gg`
- ファイル末尾行の先頭に移動: `G`
- ファイルの指定行(ex.2行目)に移動: `2G`
- 前のカーソル位置に戻る: `Ctrl + o`
- 次のカーソル位置に進む: `Ctrl + i`
- マッチする括弧へ移動する: `%`
- 右インデントへ移動する: `>`
- 左インデントへ移動する: `<`

### 表示
- ファイル名と全体の行数、カーソルの位置(%表記): `Ctrl + g`

### テキスト削除(≒切り取り)
- 1文字削除する(カーソル部分が対象): `x`
- 1文字削除する(カーソルの1つ右が対象): `X`
- カーソル位置から単語終端まで(スペースも含む)を削除する: `dw`
- カーソル位置から単語指定分(ex.2単語)まで(スペースも含む)を削除する: `d2w`
- カーソル位置から行末までを削除する: `d$`
- カーソル位置を含まない以降の行末までを削除する: `D`
- 行全体を削除する: `dd`
- 指定行分(ex.2行)を削除する: `2dd`

### コピー
- 範囲指定テキストのコピー: `v + カーソル移動 + y`
- 範囲指定行テキストのコピー: `V + カーソル移動 + y`
- 数値指定範囲行(カーソル行を含む下の行数, ex.2行)テキストのコピー: `2yy`
- カーソルから上の行すべてのコピー: `ygg`
- カーソルから下の行すべてのコピー: `yG`
- カーソルから右側すべてのコピー: `y$`
- カーソルから左側行すべてのコピー: `y0`

### ペースト
- コピーしたテキストをカーソル右に(行コピーならカーソル下に)ペースト: `p`
- コピーしたテキストをカーソル左に(行コピーならカーソル上に)ペースト: `P`
- コピーしたテキストを指定回数(ex.2回)カーソル右に(行コピーならカーソル下に)ペースト: `2p`
- コピーしたテキストを指定回数(ex.2回)カーソル左に(行コピーならカーソル上に)ペースト: `2P`

### コピーアンドペースト

### 削除(≒切り取り)アンドペースト
- 行を削除アンドペースト: `ddp`
- 単語を削除アンドペースト: `dwp`

### 取り消し
- 直前のコマンドの取り消し: `u`
- 行全体の取り消し: `U`
- 取り消しの取り消し: `Ctrl + r`

### 検索
- 検索文字列(ex.text)を下に検索: `/text`
- 検索文字列(ex.text)を上に検索: `?text`
- カーソル位置の単語(スペース区切り)を下に検索: `*`
- カーソル位置の単語(スペース区切り)を上に検索: `#`

### 便利コマンド
- 直前のコマンドを繰り返す: `.`
- インデントを揃える: `=`
- コマンドの保管候補を表示: `Ctrl + n`
- htmlなどのでタグの中身だけを削除して入力: `cit`

## 入力モード
### テキスト追加
- テキストをカーソル位置に挿入: `i`
- テキストをカーソル右に挿入: `a`
- テキストを行末に追加: `A`
- カーソル位置の下に新しい行を追加して挿入モード: `o`
- カーソル位置の上に新しい行を追加して挿入モード: `O`

### 置換(削除&入力モードに切り替わる)
- 文字の置換: `c` or `r`
- カーソル位置を含む行末までの文字列を置換: `cw`
- カーソル位置を含まない行末までの文字列を置換: `C` or `c$`
- 行全体の置換: `cc` or `S`

## コマンドモード
### 保存
- 保存: `:w`
- ファイル名を指定(ex.file1)して保存: `:w file1`

### 終了
- 終了: `:q`
- 保存して終了: `:wq` or `:x`
- 保存せず終了: `:q!`
- ファイルに変更があれば保存して終了、なければ上書きせずに終了: `ZZ`

### 開く
- 指定したファイル(ex.file1)を開く: `:e file1`

### 置換(入力モードの置換とは異なり、文字列の置換)
- カーソル位置の文字を小文字に変換する: `gu`
- カーソル位置の文字を大文字に変換する: `gU`
- 指定した範囲の文字を小文字に変換する: `v + カーソル操作 + gu`
- 指定した範囲の文字を大文字に変換する: `v + カーソル操作 + gU`
- 行内最初の「abc」を「xyz」に置換: `:s/abc/xyz`
- 行全体の「abc」を「xyz」に置換: `:s/abc/xyz/g`
- ファイル全体の「abc」を「xyz」に置換: `:%s/abc/xyz/g`
- ファイル全体の「abc」を「xyz」に随時確認置換: `:%s/abc/xyz/gc`
- 指定した行数(ex.10から15行目)の「abc」を「xyz」に置換 `:5,10s/abc/xyz/g`

### 外部コマンド
- 外部コマンドlsを実行: `:!ls`

### 画面の分割
- 上下に画面分割する: `:sp`
- 左右に画面分割する: `:sp`
- 次の画面に移動する: `Ctrl + w + w`
- 分割画面を閉じる: `:close`

### タブ
- 新規タブを作成: `:tabnew`
- 別タブで指定のファイル(ex.file1)を開く: `:tabe file1`
- タブを閉じる: `tabclose`
- 開いているタブ全体で置換: `:tabdo %s/old/new/g`

### 設定
- 行番号の表示: `:set number` or `:set nu`
- コードの色分け: `:syntax on`
- タブの空白数を規定(ex.2): `:set tabstop=2`

## ビジュアルモード
### 選択
- テキストの選択: `v`
- 行の選択: `V`
- 短形選択: `Ctrl + v`
- 複数同時入力: `Ctrl + v + i`
- 複数同時削除: `Ctrl + v + x`